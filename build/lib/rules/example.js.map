{"version":3,"sources":["../../../src/lib/rules/example.js"],"names":["LOG","replacer","match","source","from","to","type","f","trim","replace","m","fr","ext","err","re","exampleRule","replacement"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA,MAAMA,MAAM,oBAAS,KAAT,CAAZ;;AAEO,MAAMC,WAAW,OAAOC,KAAP,EAAcC,MAAd,EAAsBC,IAAtB,EAA4BC,EAA5B,EAAgCC,IAAhC,KAAyC;AAC/D,MAAI;AACF,QAAIC,IAAI,MAAM,YAAKJ,MAAL,CAAd;AACAI,QAAIA,EAAEC,IAAF,EAAJ;;AACA,QAAIJ,QAAQC,EAAZ,EAAgB;AACdE,UAAIA,EAAEE,OAAF,CAAU,kCAAV,EAA8C,CAACC,CAAD,EAAIC,EAAJ,KAAW;AAC3D,YAAIA,MAAMP,IAAV,EAAgB,OAAOM,EAAED,OAAF,CAAUE,EAAV,EAAcN,EAAd,CAAP;AAChB,eAAOK,CAAP;AACD,OAHG,CAAJ;AAID;;AACD,WAAQ,SAAQJ,QAAQ,iBAAMH,MAAN,EAAcS,GAAd,CAAkBH,OAAlB,CAA0B,KAA1B,EAAiC,EAAjC,CAAqC;EAC/DF,EAAEC,IAAF,EAAS;OADP;AAGD,GAZD,CAYE,OAAOK,GAAP,EAAY;AACZb,QAAIa,GAAJ;AACA,WAAOX,KAAP;AACD;AACF,CAjBM;;;AAkBA,MAAMY,KAAK,gEAAX;;AAEP,MAAMC,cAAc;AAClBD,IADkB;AAElBE,eAAaf;AAFK,CAApB;eAKec,W","sourcesContent":["import { debuglog } from 'util'\nimport { parse } from 'path'\nimport { read } from '..'\n\nconst LOG = debuglog('doc')\n\nexport const replacer = async (match, source, from, to, type) => {\n  try {\n    let f = await read(source)\n    f = f.trim()\n    if (from && to) {\n      f = f.replace(/^import .+? from ['\"](.+)['\"]$/mg, (m, fr) => {\n        if (fr == from) return m.replace(fr, to)\n        return m\n      })\n    }\n    return `\\`\\`\\`${type || parse(source).ext.replace(/^\\./, '')}\n${f.trim()}\n\\`\\`\\``\n  } catch (err) {\n    LOG(err)\n    return match\n  }\n}\nexport const re = /^%EXAMPLE: (.[^\\n,]+)(?:, (.+?) => (.[^\\s,]+))?(?:, (.+))?%$/gm\n\nconst exampleRule = {\n  re,\n  replacement: replacer,\n}\n\nexport default exampleRule\n"],"file":"example.js"}